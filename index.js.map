{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function searchImagesByQuery(query) {\n  const URL = 'https://pixabay.com/api/';\n  const API_KEY = '45706921-daf09135eb1f07c679e77f1a2';\n\n  return fetch(\n    `${URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      iziToast.error({\n        position: 'topRight',\n        message: `${error}`,\n      });\n    });\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport function createImages(data) {\n  const lightbox = new SimpleLightbox('.gallery-list a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  const list = document.querySelector('.gallery');\n  let images = data.hits\n    .map(\n        hit =>\n            `<li class=\"gallery-card\">\n  <a class=\"gallery-link\" href=\"${hit.largeImageURL}\">\n    <img\n      class=\"gallery-img\"\n      src=\"${hit.webformatURL}\"\n      data-source=\"${hit.largeImageURL}\"\n      alt=\"${hit.tags}\"\n    />\n  </a>\n  <div class=\"wrapper\">\n    <ul class=\"img-content-wrapper\">\n      <li class=\"text-info\">\n        Likes<span class=\"number\">${hit.likes}</span>\n      </li>\n      <li class=\"text-info\">\n        Views<span class=\"number\">${hit.views}</span>\n      </li>\n      <li class=\"text-info\">\n        Comments<span class=\"number\">${hit.comments}</span>\n      </li>\n      <li class=\"text-info\">\n        Downloads<span class=\"number\">${hit.downloads}</span>\n      </li>\n    </ul>\n  </div>\n</li>    `\n    //   `<div class=\"image-frame\"><a href=\"${hit.largeImageURL}\"><img class=\"image\" src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" /></a><div class =\"text-wraper\"><div class=\"text-block\"><h5>likes</h5><p>${hit.likes}</p></div><div class=\"text-block\"><h5>views</h5><p>${hit.views}</p></div><div class=\"text-block\"><h5>comments</h5><p>${hit.comments}</p></div><div class=\"text-block\"><h5>downloads</h5><p>${hit.downloads}</p></div></div></div>`\n    )\n    .join('');\n    //   list.insertAdjacentHTML('afterbegin', images);\n    list.innerHTML = images;\n  lightbox.refresh();\n}\n\nexport function clearImages() {\n  const list = document.querySelector('.gallery');\n  list.innerHTML = '';\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport searchImagesByQuery from './js/pixabay-api';\nimport { createImages, clearImages } from './js/render-functions';\n\nconst form = document.querySelector('.gallery-form');\nconst input = document.querySelector('.input-for-gallery');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n      event.preventDefault();\n    clearImages();\n  loader.classList.remove('hiden');\n  let wordForSearch = input.value.trim();\n  const page = 1;\n  if (wordForSearch === '') {\n    iziToast.error({\n      position: 'topRight',\n      message: 'Please fill the input',\n    });\n    loader.classList.add('hiden');\n    return;\n  }\n  searchImagesByQuery(`${wordForSearch}`, page).then(async data => {\n    if (data.total === 0) {\n      iziToast.error({\n        position: 'topRight',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      loader.classList.add('hiden');\n      return;\n    } else {\n        loader.classList.add('hiden');\n      createImages(data);\n    }\n  });\n}\n\n"],"names":["searchImagesByQuery","query","response","error","createImages","data","lightbox","SimpleLightbox","list","images","hit","clearImages","form","input","loader","handleSubmit","event","wordForSearch","iziToast"],"mappings":"6vBAAe,SAASA,EAAoBC,EAAO,CAIjD,OAAO,MACL,qEAA2BA,CAAK,0DACjC,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,SAAS,MAAM,CACb,SAAU,WACV,QAAS,GAAGA,CAAK,EACzB,CAAO,CACP,CAAK,CACL,CChBO,SAASC,EAAaC,EAAM,CACjC,MAAMC,EAAW,IAAIC,EAAe,kBAAmB,CACrD,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,EACKC,EAAO,SAAS,cAAc,UAAU,EAC9C,IAAIC,EAASJ,EAAK,KACf,IACGK,GACI;AAAA,kCACsBA,EAAI,aAAa;AAAA;AAAA;AAAA,aAGtCA,EAAI,YAAY;AAAA,qBACRA,EAAI,aAAa;AAAA,aACzBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAMeA,EAAI,KAAK;AAAA;AAAA;AAAA,oCAGTA,EAAI,KAAK;AAAA;AAAA;AAAA,uCAGNA,EAAI,QAAQ;AAAA;AAAA;AAAA,wCAGXA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,UAMhD,EACA,KAAK,EAAE,EAERF,EAAK,UAAYC,EACnBH,EAAS,QAAO,CAClB,CAEO,SAASK,GAAc,CAC5B,MAAMH,EAAO,SAAS,cAAc,UAAU,EAC9CA,EAAK,UAAY,EACnB,CC5CA,MAAMI,EAAO,SAAS,cAAc,eAAe,EAC7CC,EAAQ,SAAS,cAAc,oBAAoB,EACnDC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACvBA,EAAM,eAAc,EACtBL,IACFG,EAAO,UAAU,OAAO,OAAO,EAC/B,IAAIG,EAAgBJ,EAAM,MAAM,KAAI,EAEpC,GAAII,IAAkB,GAAI,CACxBC,EAAS,MAAM,CACb,SAAU,WACV,QAAS,uBACf,CAAK,EACDJ,EAAO,UAAU,IAAI,OAAO,EAC5B,MACD,CACDd,EAAoB,GAAGiB,CAAa,EAAQ,EAAE,KAAK,MAAMZ,GAAQ,CAC/D,GAAIA,EAAK,QAAU,EAAG,CACpBa,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACV,CAAO,EACDJ,EAAO,UAAU,IAAI,OAAO,EAC5B,MACN,MACQA,EAAO,UAAU,IAAI,OAAO,EAC9BV,EAAaC,CAAI,CAEvB,CAAG,CACH"}